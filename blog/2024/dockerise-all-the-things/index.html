<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> Dockerising everything | Cem Yilmaz </title> <meta name="author" content="Cem Yilmaz"> <meta name="description" content="An ode to my summer with docker and why I ultimately moved on"> <meta name="keywords" content="jekyll, jekyll-theme, academic-website, portfolio-website, cem-yilmaz, edinburgh, university-of-edinburgh, undergrad, uoe"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link defer href="/assets/css/bootstrap-toc.min.css?6f5af0bb9aab25d79b2448143cbeaa88" rel="stylesheet"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%F0%9F%93%9F&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://cem-yilmaz.github.io/blog/2024/dockerise-all-the-things/"> <script src="/assets/js/theme.js?9a0c749ec5240d9cda97bc72359a72c0"></script> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script>initTheme();</script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> <span class="font-weight-bold">Cem</span> Yilmaz </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">home </a> </li> <li class="nav-item active"> <a class="nav-link" href="/blog/">blog </a> </li> <li class="nav-item "> <a class="nav-link" href="/projects/">projects </a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">CV </a> </li> <li class="nav-item"> <button id="search-toggle" title="Search" onclick="openSearchModal()"> <span class="nav-link">ctrl k <i class="ti ti-search"></i></span> </button> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="ti ti-sun-moon" id="light-toggle-system"></i> <i class="ti ti-moon-filled" id="light-toggle-dark"></i> <i class="ti ti-sun-filled" id="light-toggle-light"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5" role="main"> <div class="row"> <div class="col-sm-3"> <nav id="toc-sidebar" class="sticky-top"></nav> </div> <div class="col-sm-9"> <div class="post"> <header class="post-header"> <h1 class="post-title">Dockerising everything</h1> <p class="post-meta"> Created in November 04, 2024 </p> <p class="post-tags"> <a href="/blog/2024"> <i class="fa-solid fa-calendar fa-sm"></i> 2024 </a>   ·   <a href="/blog/tag/uni"> <i class="fa-solid fa-hashtag fa-sm"></i> uni</a>   <a href="/blog/tag/personal"> <i class="fa-solid fa-hashtag fa-sm"></i> personal</a> </p> </header> <article class="post-content"> <div id="markdown-content"> <p>In the summer of 2024, I made a change.</p> <p>I’d naively brought my gaming PC to uni so I could continue my teenage hobby in my downtime. But SURPRISE! I instead spent my free time engaging with new friends and societies, working, and discovering more about my degree. All my computational needs were more than covered by my laptop, and the desktops the university supplied. It wasn’t uncommon for my keyboard to sit collecting dust.</p> <p>The problem was, even if I wanted to play today’s games, my PC was (by today’s standards) “pretty low end” (<a href="https://youtu.be/OjawnIC81nE?t=144" rel="external nofollow noopener" target="_blank">Battaglia, 2024</a>). However, years of bloated program installs meant it wasn’t a fun experience to try and do programming for uni on it either.</p> <p>So mid-summer, I wiped the drive, and installed Debian.</p> <p>I’d been looking at Linux distros for a while, and the one that really grabbed my attention was <a href="https://nixos.org/" rel="external nofollow noopener" target="_blank">NixOS</a>, mainly for the feature that you could get an identical setup on two different computers, all managed by a single file. It did seem like it came with some caveats<sup id="fnref:caveats" role="doc-noteref"><a href="#fn:caveats" class="footnote" rel="footnote">1</a></sup> so I decided on good old fashioned Debian to match my Ubuntu’d laptop. The question then became, what was the best way to have the same development environments when using two different machines?</p> <h1 id="what-is-docker">What is Docker?</h1> <p><em>The following is not a comprehensive (or even fully correct) explanation of Docker. It’s both a primer for how I use it, and the explanation I wish I had found when trying to work out what it was</em>.</p> <p>A <strong>virtual machine</strong> is a program that simulates all the physical parts of a computer in code, to the extent that you can load an <strong>operating system</strong> into it and run it <em>inside</em> of the program. In theory, this is a great idea for developer environments - load up a VM, install what you need inside there, and then reopen it every single time you want to code using the tools! You could even have multiple VMs for different coding environments!</p> <p>The downside to this is VMs are designed to load <em>the entire operating system</em>, which means you’ll be simulating all the memory management, background tasks, fancy desktop effects, file management, etc even if all you want to do is make a simple calculator in Rust.</p> <p>A <strong>container</strong> is effectively a very lightweight <strong>VM</strong>. It’s usually designed with one purpose in mind - imagine a VM, but with every unnecessary bit hacked off. <strong>Docker</strong> is just a program that acts akin to a <strong>virtual machine <em>manager</em></strong>, but for these containers. It is needed for these containers to run on your computer.</p> <p>That’s not all Docker does - I haven’t even touched on <strong>images</strong>, which are basically templates for a container and allow Docker to run more efficiently - but this was enough for me to realise that by installing Docker, I had my solution.</p> <h1 id="how-did-i-use-docker">How did I use Docker?</h1> <p>Confession: I used <a href="https://containers.dev/" rel="external nofollow noopener" target="_blank">devcontainers</a>.</p> <p>Devcontainers (once again, to me) are basically a wrapper for containers, but their main advantage was the fact they integrated incredibly well with VSCode. Docker can sometimes be a bit tricky to get the stuff you want inside of a container, but here the process was as simple as clicking <code class="language-plaintext highlighter-rouge">Reopen in Container</code> and waiting for my environment to be built.</p> <p>I would simply create a base <code class="language-plaintext highlighter-rouge">devcontainer.json</code> file inside of each of my repositories, and slowly build up my desired environment through changes to that file (corresponding to commands and options). This meant, as long as I had VSCode and Docker installed on a machine, I could have the exact same experience. This also let me leverage <a href="https://github.com/features/codespaces" rel="external nofollow noopener" target="_blank">GitHub Codespaces</a>, which already use devcontainers to set everything up. If I really wanted to, I could even open the codespace in a web browser.</p> <h1 id="what-were-the-results">What were the results?</h1> <p>Initially, everything was coming up Milhouse. I made devcontainers for each of my courses, aswell as a \(\LaTeX\) writing one, and a few more.</p> <p>The problems began once I tried to replicate these on my PC.</p> <p>Firstly, you may have noticed that if I’m ultimately still using a <strong>VM</strong> (via a <strong>container</strong>), then all my files are on that VM, right? Docker provides a system called a <a href="https://docs.docker.com/engine/storage/bind-mounts/" rel="external nofollow noopener" target="_blank">bind mount</a>, which takes your current repository, and <em>mounts it as the filesystem</em> to the container. This means, if your container writes something to this filesystem, it actually appears on your real filesystem! This keeps containers small, and means you only need to commit the files you want to change.</p> <p>That being said, my containers failed to build on my PC, and after a few hours of bug hunting, I found the problem: Docker only (initially) allows you to mount folders <em>from your <code class="language-plaintext highlighter-rouge">\home</code> directory</em>. I was hosting all my desired repositories on a separate drive. The only solution I was able to find was to add these volumes in <strong>Docker Desktop</strong>.</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="https://docs.docker.com/desktop/images/synched-file-shares.webp" sizes="95vw"></source> <img src="https://docs.docker.com/desktop/images/synched-file-shares.webp" class="img-fluid rounded z-depth-1" width="100%" height="auto" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> The mounts at the bottom default to just `\home`. I've also spent too long failing to find any solution to do this via config files - I genuinely cannot find a way to add more file locations without Docker Desktop. </div> <p>This irked me, as Docker Desktop is effectively completely uneccessary on Linux, and while this fixed my issue, it caused even more relating to specific system-wide docker configurations I had made to get my idea working.</p> <p>Mainly, this related to trying to pass-through my GPU to containers in anticipation of heavy machine learning tasks. This requires installing a specific NVIDIA “container runtime”, and plain-and-simple <strong>does not work if Docker Desktop is installed</strong>. So given the choice between not having GPU’s passed through to containers and <em>not having them work at all</em>, I chose the former.</p> <p>Then there was the issue that sometimes containers just failed to build on certain systems. I could not get my <em>Agda</em> container to build on my laptop, despite working perfectly fine in codespaces and even on my problematic main PC. The only solution to allowing my \(\LaTeX\) container to access git repositories in it’s fileshare was the hilariously insecure <code class="language-plaintext highlighter-rouge">chown root:root .</code></p> <p>Finally, containers are a jack of all trades, but <strong>I just didn’t find myself needing them</strong>. It would’ve been nice to open up a container hyper-optimised for every task, but most of my courses just required a Python virtual environment, and those which didn’t were better suited to not using VSCode at all. As for that \(\LaTeX\) container, I found it just easier to use <em>Overleaf</em>.</p> <h2 id="epilogue">Epilogue</h2> <p>I’m glad I finally learned Docker this summer. I can see how the tool is incredibly useful, and understand why many home server setups adore running isolated containers. For me, it was like taking a chainsaw to a toastie: it’ll do the job, but you might crack your plate and you’ll probably get ham and cheese all over the walls.</p> <hr> <div class="footnotes" role="doc-endnotes"> <ol> <li id="fn:caveats" role="doc-endnote"> <p>The ones I recall were: NixOS stores programs in unusual paths which causes issues with some dependencies, I wasn’t sure how long boot times would be considering the OS would “rebuild” itself often, I was worried I’d version stuff incorrectly, I’m still unsure what <em>flakes</em> actually are, and I may spend too much time editing the config instead of actually doing work. <a href="#fnref:caveats" class="reversefootnote" role="doc-backlink">↩</a></p> </li> </ol> </div> </div> </article> <br> <hr> <br> <ul class="list-disc pl-8"></ul> <h2 class="text-3xl font-semibold mb-4 mt-12">Enjoy Reading This Article?</h2> <p class="mb-2">Here are some more articles you might like to read next:</p> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2024/how-i-use-obsidian/">How I use Obsidian to study</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2024/hello-world/">My First Blog Post</a> </li> </div> </div> </div> </div> <footer class="fixed-bottom" role="contentinfo"> <div class="container mt-0"> © Copyright 2025 Cem Yilmaz. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. Photos from <a href="https://unsplash.com" target="_blank" rel="external nofollow noopener">Unsplash</a> or my own works if uncredited. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js" integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin="anonymous"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script defer src="/assets/js/bootstrap-toc.min.js?c82ff4de8b0955d6ff14f5b05eed7eb6"></script> <script src="/assets/js/no_defer.js?2781658a0a2b13ed609542042a859126"></script> <script defer src="/assets/js/common.js?e0514a05c5c95ac1a93a8dfd5249b92e"></script> <script defer src="/assets/js/copy_code.js?12775fdf7f95e901d7119054556e495f" type="text/javascript"></script> <script defer src="/assets/js/jupyter_new_tab.js?d9f17b6adc2311cbabd747f4538bb15f"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script> <script defer src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6" crossorigin="anonymous"></script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> <script src="/assets/js/vanilla-back-to-top.min.js?f40d453793ff4f64e238e420181a1d17"></script> <script>addBackToTop();</script> <script type="module" src="/assets/js/search/ninja-keys.min.js?a3446f084dcaecc5f75aa1757d087dcf"></script> <ninja-keys hidebreadcrumbs noautoloadmdicons placeholder="Type to start searching"></ninja-keys> <script>let searchTheme=determineComputedTheme();const ninjaKeys=document.querySelector("ninja-keys");"dark"===searchTheme?ninjaKeys.classList.add("dark"):ninjaKeys.classList.remove("dark");const openSearchModal=()=>{const e=$("#navbarNav");e.hasClass("show")&&e.collapse("hide"),ninjaKeys.open()};</script> <script>const ninja=document.querySelector("ninja-keys");ninja.data=[{id:"nav-home",title:"home",section:"Navigation",handler:()=>{window.location.href="/"}},{id:"nav-blog",title:"blog",description:"",section:"Navigation",handler:()=>{window.location.href="/blog/"}},{id:"nav-projects",title:"projects",description:"A collection of projects I've worked on.",section:"Navigation",handler:()=>{window.location.href="/projects/"}},{id:"nav-cv",title:"CV",description:"",section:"Navigation",handler:()=>{window.location.href="/cv/"}},{id:"post-dockerising-everything",title:"Dockerising everything",description:"An ode to my summer with docker and why I ultimately moved on",section:"Posts",handler:()=>{window.location.href="/blog/2024/dockerise-all-the-things/"}},{id:"post-how-i-use-obsidian-to-study",title:"How I use Obsidian to study",description:"A timeline of my relationship with the excellent Markdown editor Obsidian, and how my note-taking workflow has evolved over uni.",section:"Posts",handler:()=>{window.location.href="/blog/2024/how-i-use-obsidian/"}},{id:"post-my-first-blog-post",title:"My First Blog Post",description:"Discussing my plans for the website",section:"Posts",handler:()=>{window.location.href="/blog/2024/hello-world/"}},{id:"news-a-simple-inline-announcement",title:"A simple inline announcement.",description:"",section:"News"},{id:"news-a-long-announcement-with-details",title:"A long announcement with details",description:"",section:"News",handler:()=>{window.location.href="/news/announcement_2/"}},{id:"news-a-simple-inline-announcement-with-markdown-emoji-sparkles-smile",title:'A simple inline announcement with Markdown emoji! <img class="emoji" title=":sparkles:" alt=":sparkles:" src="https://github.githubassets.com/images/icons/emoji/unicode/2728.png" height="20" width="20"> <img class="emoji" title=":smile:" alt=":smile:" src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png" height="20" width="20">',description:"",section:"News"},{id:"projects-ug-dissertation",title:"UG Dissertation",description:"fine-tuning BERT to test it's deceptive capabilities in social deduction games",section:"Projects",handler:()=>{window.location.href="/projects/diss/"}},{id:"projects-project-1",title:"project 1",description:"with background image",section:"Projects",handler:()=>{window.location.href="/projects/1_project/"}},{id:"projects-project-2",title:"project 2",description:"a project with a background image and giscus comments",section:"Projects",handler:()=>{window.location.href="/projects/2_project/"}},{id:"projects-project-3-with-very-long-name",title:"project 3 with very long name",description:"a project that redirects to another website",section:"Projects",handler:()=>{window.location.href="/projects/3_project/"}},{id:"projects-project-4",title:"project 4",description:"another without an image",section:"Projects",handler:()=>{window.location.href="/projects/4_project/"}},{id:"projects-project-5",title:"project 5",description:"a project with a background image",section:"Projects",handler:()=>{window.location.href="/projects/5_project/"}},{id:"projects-project-6",title:"project 6",description:"a project with no image",section:"Projects",handler:()=>{window.location.href="/projects/6_project/"}},{id:"projects-project-7",title:"project 7",description:"with background image",section:"Projects",handler:()=>{window.location.href="/projects/7_project/"}},{id:"projects-project-8",title:"project 8",description:"an other project with a background image and giscus comments",section:"Projects",handler:()=>{window.location.href="/projects/8_project/"}},{id:"projects-project-9",title:"project 9",description:"another project with an image \ud83c\udf89",section:"Projects",handler:()=>{window.location.href="/projects/9_project/"}},{id:"projects-predicting-airbnb",title:"Predicting AirBnB",description:"a deep data analysis of AirBnB data, and a linear regression model to predict prices",section:"Projects",handler:()=>{window.location.href="/projects/fds/"}},{id:"projects-pizzadronz",title:"PizzaDronz",description:"supplying pizza to students using a REST server and a pathfinder",section:"Projects",handler:()=>{window.location.href="/projects/ilp/"}},{id:"projects-event-management",title:"Event Management",description:"an event management system built in Java using industry practises",section:"Projects",handler:()=>{window.location.href="/projects/sepp/"}},{id:"projects-spoilers",title:"Spoilers!",description:"a browser extension for the spoiler-sensitive",section:"Projects",handler:()=>{window.location.href="/projects/spoilers/"}},{id:"projects-tickbox",title:"Tickbox",description:"a hybrid web-based/robotic project aimed at keeping students off their phones",section:"Projects",handler:()=>{window.location.href="/projects/tickbox/"}},{id:"projects-search-engine",title:"Search Engine",description:"a modern search engine using cutting edge features",section:"Projects",handler:()=>{window.location.href="/projects/ttds/"}},{id:"socials-email",title:"Send email",section:"Socials",handler:()=>{window.open("mailto:%63%65%6D%79%69%6C%6D%61%7A%38%36%33@%67%6D%61%69%6C.%63%6F%6D","_blank")}},{id:"socials-github",title:"GitHub",section:"Socials",handler:()=>{window.open("https://github.com/cem-yilmaz","_blank")}},{id:"socials-linkedin",title:"LinkedIn",section:"Socials",handler:()=>{window.open("https://www.linkedin.com/in/cem-yilmaz-7773012a7","_blank")}},{id:"light-theme",title:"Change theme to light",description:"Change the theme of the site to Light",section:"Theme",handler:()=>{setThemeSetting("light")}},{id:"dark-theme",title:"Change theme to dark",description:"Change the theme of the site to Dark",section:"Theme",handler:()=>{setThemeSetting("dark")}},{id:"system-theme",title:"Use system default theme",description:"Change the theme of the site to System Default",section:"Theme",handler:()=>{setThemeSetting("system")}}];</script> <script src="/assets/js/shortcut-key.js?6f508d74becd347268a7f822bca7309d"></script> </body> </html>